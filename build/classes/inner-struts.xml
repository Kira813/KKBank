<!DOCTYPE struts PUBLIC
          "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
          "http://struts.apache.org/dtds/struts-2.0.dtd">
<struts>


	
	<!-- account -->
	<package name="account" extends="default" namespace="/account">
		<default-interceptor-ref name="adiStack" />
		<!-- jump to opencard.jsp -->

		<action name="openCard" class="com.kkbank.business.web.AccountManageAction"
			method="openCard">
			<result name="SUCCESS">/jsp/openCard.jsp</result>
		</action>

		<action name="addAccount" class="com.kkbank.business.web.AccountManageAction"
			method="addAccount">
			<result name="opencard">/jsp/openCard.jsp</result>
			<result name="SUCCESS">/jsp/successOpen.jsp</result>
		</action>
		
		<action name="returnMain" class="com.kkbank.business.web.AccountManageAction"
			method="returnMain">
			<result name="SUCCESS">/jsp/index.jsp</result>
		</action>
		
		<action name="withdraw" class="com.kkbank.business.web.withdrawAction"
			method="withdraw">
			<result name="SUCCESS">/jsp/withdrawal.jsp</result>
		</action>
	</package>

	<!-- Administrator -->
	<package name="admin" extends="default">
	<default-interceptor-ref name="adiStack" />
	    <action name="login" class="com.kkbank.business.web.AdminLoginAction">
	    	<result name ="success">/index.jsp</result>
	    	<result name ="error">/ad_login.jsp</result>
		</action>
		<action name="inquiry" class="com.kkbank.business.web.AdminInquiryAction">
	    	<result name ="success">/status.jsp</result>
	    	<result name ="error">/inquiry.jsp</result>
		</action>
		<action name="deposit" class="com.kkbank.business.web.AdminDepositAction">
	    	<result name ="success">/deposit.jsp</result>
	    	<result name ="error">/deposit.jsp</result>
		</action>
	</package>
	
	<!-- 用户 -->
	<package name="user" extends="default" namespace="/user">
		<default-interceptor-ref name="loginStack" />               <!-- 这里不懂 --><!-- 这个是登陆拦截器，判断登陆权限 -->
		<action name="*User" class="com.kkbank.business.web.UserManageAction"
			method="{1}User">
			<result name="manageUser">/jsp/modifyUser.jsp</result>
			<result name="listUser">/jsp/listUser.jsp</result>
		</action>
		<action name="modifyUser" class="com.kkbank.business.web.UserManageAction"
			method="modifyUser">
			<result type="redirectAction">
				<param name="actionName">listUser</param>
			</result>
		</action>
		<action name="delUser" class="com.kkbank.business.web.UserManageAction"
			method="delUser">
			<result type="redirectAction">
				<param name="actionName">listUser</param>
			</result>
		</action>
		<action name="addUser" class="com.kkbank.business.web.UserManageAction"
			method="addUser">
			<result name="SUCCESS">/jsp/SUCCESS.jsp</result>
			<result type="redirectAction">
				<param name="actionName">listUser</param>
			</result>
		</action>
	</package>
	
</struts>